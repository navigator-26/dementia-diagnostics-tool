<ion-tabs>

  <ion-tab-bar slot="bottom">

    <ion-tab-button tab="feeds">
      <ion-icon name="people"></ion-icon>
      <ion-label>Feeds</ion-label>
    </ion-tab-button>

    <ion-tab-button tab="map">
      <ion-icon name="location"></ion-icon>
      <ion-label>Map</ion-label>
    </ion-tab-button>

    <ion-tab-button tab="about">
      <ion-icon name="information-circle"></ion-icon>
      <ion-label>About</ion-label>
    </ion-tab-button>

    <ion-fab vertical="bottom" horizontal="end" size="small"> 
      <ion-fab-button>
        <ion-icon name="add" id="open-modal" expand="block"></ion-icon>
      </ion-fab-button>
    </ion-fab>

  </ion-tab-bar>

</ion-tabs>


<ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="cancel()">Cancel</ion-button>
        </ion-buttons>
        <ion-title>Chat</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="confirm()" [strong]="true">Confirm</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content #content id="content" class="ion-padding">
      <div class="message-wrap">
        <div *ngFor="let message of messages; let i = index" class="message" [class.right]=" message.userIsSender === true">
          <div class="msg-detail">
            <div class="msg-content">
               <!-- <ng-container *ngIf="Array.isArray(message.message)">
                <p *ngFor="let msg of message.message;"> {{msg.option}} </p>
              </ng-container> -->
              <p (click)="onMessageClicked($event,i,message.text)" *ngIf="!isCheckArray(message.text)" >{{message.text}}</p>
              <div *ngIf="isCheckArray(message.text)">
                <p *ngFor="let msg of message.text" (click)="onMessageClicked($event,i,msg.option)"> {{msg.option}}</p>
              </div>
             

            </div>
          </div>
          
        </div>
      </div>
      <div id="bottom"></div>
    </ion-content>
  </ng-template>
</ion-modal>
